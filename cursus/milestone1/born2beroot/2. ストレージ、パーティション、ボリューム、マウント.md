
redhat公式ドキュメント
https://docs.redhat.com/ja/documentation/red_hat_enterprise_linux/8/html/managing_storage_devices/extended-mbr-partitions_disk-partitions
#### MBI形式（BIOS）
![[パーティション.png]]

#### GPT形式（UEFI）
->sda5に論理パーティション作れない
![[lsblk.png]]

MB = 10^6 B
MiB= 2^20 B
#### ファイルシステム
物理ディスクの特定領域をコンピュータが扱えるように変形するもの。

#### マウント
仮想的なアドレス（/, /home. /etc 等）を物理ディスクのアドレスに割り当てること。

#### パーティション、LVの目的
論理ボリューム（LV）とパーティションの設定基準は、それぞれ異なる目的を持っていますが、共通して**運用の柔軟性**と**障害の局所化**を目指します。
#### 論理ボリュームの分割基準
論理ボリューム（LVMの最終的な区画）の分割は、主に**運用の柔軟性と目的の分離**を基準に行われます。
物理ボリュームの確認
```bash
sudo pvs
```
ボリュームグループの構成確認
```bash
sudo vgs
```

論理ボリュームでスナップショットをとる方法
```shell
lvcreate -L 1G -s -n lv_home_snap /dev/vg01/lv_home
```
物理パーティションと異なり、システムを止めずにコマンド一発でバックアップ取れる

| **基準となる目的**        | **分割されるLV（マウントポイント）の例** | **分割する理由**                                                      |
| ------------------ | ----------------------- | --------------------------------------------------------------- |
| **容量の変動が大きい領域の分離** | `/var`, `/tmp`          | ログや一時ファイルが急増してシステム全体を圧迫するのを防ぐ。                                  |
| **ユーザーデータの分離**     | `/home`                 | ユーザーが大量のファイルを保存しても、OSの動作に必要な領域（`/`）の空き容量を確保する。                  |
| **セキュリティ・アクセス制御**  | `/var/log` (システムログ)     | 特定の機密性の高いログ領域を別LVにし、読み書きの権限やポリシーを細かく設定する。                       |
| **スナップショット**       | 全ての重要なLV                | バックアップやシステム復元のために、特定のLV（例: `lv_root`）の時点のイメージを簡単に作成できるようにする。    |
| **領域の拡張・縮小**       | 必要に応じて                  | 将来的に容量が増減しそうなLV（例: データベース用の領域）を分けておき、システム稼働中でも簡単にサイズ変更できるようにする。 |

#### 物理パーティションの分割基準
物理ストレージ上のパーティション（LVMの基盤となるPVや、非LVMの領域）の分割は、**OSの起動要件**や**技術的な制約**を基準に行われます。
\/dev\/sda1 とかは物理パーティション
sd（SCSI/SATA Disk）a（１台目の物理ディスク）2（その物理ディスクの２番目の区画）
sd（SCSI/SATA Disk）b（２台目の物理ディスク全体）
\/dev\/sda1 の場合は論理ボリュームは割り当てられていない。
\/dev\/mapper\/tozaki42--vg-root とかに割り当てられている。

最近では、より新しい高速規格のSSD（NVMeなど）は、`sd` ではなく **`nvme`** プレフィックスを使った命名規則が使われることも増えています。
- 例: `/dev/nvme0n1` (1番目のNVMeコントローラーの1番目のドライブ)

|**基準となる目的**|**パーティションの例**|**分割する理由**|
|---|---|---|
|**OSの起動要件**|`/boot`|OSの起動に必要なファイル（カーネルやブートローダー）は、LVMや暗号化された領域の外、**非LVMの標準的なパーティション**に配置する必要があるため。|
|**スワップ領域の確保**|`swap`|メモリが不足した際の一時的な退避領域。パフォーマンスのため、LVではなく専用パーティションにすることがある（LVとして作る場合もあります）。|
|**LVMの基盤**|LVM用パーティション|複数のLVに柔軟に割り当てるための**物理ボリューム（PV）**として、ディスク上の広範囲を一つのパーティションとして確保する。これにより、ディスク全体をLVMのプールとして利用できます。|
|**技術的制約 (古い規格)**|プライマリ/拡張パーティション|古いMBR形式のパーティションテーブルでは、プライマリパーティションの数に制限（最大4つ）があるため、拡張パーティションを設ける必要がある。|

#### 仮想マシンにおけるディスク
- VirtualBoxで仮想マシンを作成する際、通常は**仮想ハードディスクファイル**（例：VDIファイル）を**1つ**割り当てます。
- この1つの仮想ハードディスクが、ゲストOS（Linux）からは**`/dev/sda`**という**単一の物理ディスク**として認識されます。
- したがって、`sda1`、`sda2` しか見当たらない場合、「**ゲストOSが認識しているディスクは1台**」であると判断して問題ありません。

ご提示の論理ボリューム名： `/dev/mapper/tozaki42--vg-root`
この命名から、以下のことがわかります。
1. **`vg` (Volume Group):** `tozaki42-vg` という名前のボリュームグループが存在する。
2. **`root` (Logical Volume):** そのボリュームグループ内に `root` という論理ボリューム（LV）が存在する。
3. **割り当て元のディスク:**
    - この論理ボリューム（LV）は、その土台である**ボリュームグループ（VG）**が、**どの物理ボリューム（PV）**から構成されているかによって決まります。
    - あなたのシステムには `/dev/sda` しかディスクがないため、**この `tozaki42-vg` は、`/dev/sda` のいずれかのパーティション（例：`/dev/sda3` など、LVMタイプとして設定されたもの）を物理ボリューム（PV）として利用している**と**断定**できます。
#### 参考資料

【Linuxのファイルシステム01】　Ubuntu に新しいディスクを付け足してみる。Linuxのディレクトリ構成、フォーマットの仕方、ext4とは？
https://www.youtube.com/watch?v=hTCHGYqvcqw&t=259s
